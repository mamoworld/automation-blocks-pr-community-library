<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="+r#ATiLoNr$PrKz;*%)S">SRT time</variable><variable id="5ClcZ1xAn#q,w2$#?gip">offset seconds</variable><variable id="25|K:cvoqZ?p~OIS66vy">srt file in</variable><variable id="Y-moie2F)u1TBD:LCl{P">srt file out</variable><variable id="I%4q+mqh(]jbTd:[Yd^-">counter</variable><variable id="qq12*o|_]l-)#)$%JMC4">match</variable></variables><block type="es_tutorial" id="gyoSl43IiO8`qgtA:gRc" x="0" y="0"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">see forum discussion</field><field name="URL">https://community.adobe.com/t5/premiere-pro-discussions/subtitle-timings-are-off-after-export-a-specific-clip/m-p/15495573#M570543</field></block><block type="mm_multiline_comment_block" id="Pl(E9tTKpGA+RP1wjRD~" x="0" y="178"><field name="TEXT">produces  a copy of an SRT file with all times &amp;#10;offset such that the first text starts at&amp;#10;00:00:00:00&amp;#10;</field></block><block type="procedures_defreturn" id="t5o_KOT7yoe^ArVd0|3%" collapsed="true" x="0" y="448"><mutation statements="false"><arg name="SRT time" varid="+r#ATiLoNr$PrKz;*%)S"></arg><arg name="offset seconds" varid="5ClcZ1xAn#q,w2$#?gip"></arg></mutation><field name="NAME">offset timecode</field><comment pinned="false" h="80" w="160">Describe this function...</comment><value name="RETURN"><block type="pr_execute_code" id="@_m%(k*d$/i$o=#gW:Sa"><mutation items="2" resultType="other"></mutation><field name="FIELD_VAR_NAME_0">timeStr</field><field name="FIELD_VAR_TYPE_0">other</field><field name="FIELD_VAR_NAME_1">offsetSeconds</field><field name="FIELD_VAR_TYPE_1">other</field><field name="RESULT_TYPE">other</field><value name="ADD0"><shadow type="text" id="h@#0{;NOHgyb,%]rWt9i"><field name="TEXT">variable value</field></shadow><block type="variables_get" id="9GPjTW)rR4}:}JoP^^!R"><field name="VAR" id="+r#ATiLoNr$PrKz;*%)S">SRT time</field></block></value><value name="ADD1"><block type="variables_get" id="l7{kKC%tv%~-yp)Y58p{"><field name="VAR" id="5ClcZ1xAn#q,w2$#?gip">offset seconds</field></block></value><value name="CODE"><shadow type="text_multiline" id="v)LJx3[]LO,z$3(CI7tz"><field name="TEXT">/**&amp;#10; * Add seconds (float) to an SRT timestamp ("HH:MM:SS,MS") and return new SRT timestamp.&amp;#10; * @param {String} timeStr - e.g. "00:03:04,000"&amp;#10; * @param {Number} offsetSeconds - e.g. 1.25 (can be negative)&amp;#10; * @returns {String} e.g. "00:03:05,250"&amp;#10; */&amp;#10;function addSecondsToSrtTime(timeStr, offsetSeconds) {&amp;#10;    // --- Parse "HH:MM:SS,MS"&amp;#10;    if (typeof timeStr !== "string") throw new Error("timeStr must be a string");&amp;#10;    var parts = timeStr.split(":");&amp;#10;    if (parts.length !== 3) throw new Error("Invalid SRT time: " + timeStr);&amp;#10;&amp;#10;    var h = parseInt(parts[0], 10);&amp;#10;    var m = parseInt(parts[1], 10);&amp;#10;    var secMs = parts[2].split(",");&amp;#10;    if (secMs.length !== 2) throw new Error("Invalid SRT time: " + timeStr);&amp;#10;&amp;#10;    var s  = parseInt(secMs[0], 10);&amp;#10;    var ms = parseInt(secMs[1], 10);&amp;#10;    if (isNaN(h) || isNaN(m) || isNaN(s) || isNaN(ms))&amp;#10;        throw new Error("Invalid SRT time: " + timeStr);&amp;#10;&amp;#10;    // --- To milliseconds&amp;#10;    var baseMs   = (((h * 60 + m) * 60 + s) * 1000) + ms;&amp;#10;    var offsetMs = Math.round(offsetSeconds * 1000); // round to nearest ms to avoid FP artifacts&amp;#10;    var totalMs  = baseMs + offsetMs;&amp;#10;&amp;#10;    // --- Clamp to zero (SRT times are non-negative)&amp;#10;    if (totalMs &lt; 0) totalMs = 0;&amp;#10;&amp;#10;    // --- Back to H:M:S,MS&amp;#10;    ms = totalMs % 1000; totalMs = (totalMs - ms) / 1000;&amp;#10;    s  = totalMs % 60;   totalMs = (totalMs - s) / 60;&amp;#10;    m  = totalMs % 60;   totalMs = (totalMs - m) / 60;&amp;#10;    h  = totalMs; // hours can exceed 99; we still zero-pad to at least 2 digits&amp;#10;&amp;#10;    function zeroPad(n, width) {&amp;#10;        var str = String(n);&amp;#10;        while (str.length &lt; width) str = "0" + str;&amp;#10;        return str;&amp;#10;    }&amp;#10;&amp;#10;    return zeroPad(h, 2) + ":" + zeroPad(m, 2) + ":" + zeroPad(s, 2) + "," + zeroPad(ms, 3);&amp;#10;}&amp;#10;addSecondsToSrtTime(timeStr, offsetSeconds) </field></shadow></value></block></value></block><block type="procedures_defreturn" id="QS@Oh=v4l`_HlRA6/${D" collapsed="true" x="324" y="451"><mutation statements="false"><arg name="SRT time" varid="+r#ATiLoNr$PrKz;*%)S"></arg></mutation><field name="NAME">convert SRT time to seconds</field><comment pinned="false" h="80" w="160">Describe this function...</comment><value name="RETURN"><block type="pr_execute_code" id="13x68KPgXRGvVNR%.t[t"><mutation items="1" resultType="other"></mutation><field name="FIELD_VAR_NAME_0">srtTime</field><field name="FIELD_VAR_TYPE_0">other</field><field name="RESULT_TYPE">other</field><value name="ADD0"><shadow type="text" id="L8xkjkhl,*5[{Vt}+:H/"><field name="TEXT">variable value</field></shadow><block type="variables_get" id="oW!/?GgGV3K==ho6pDJR"><field name="VAR" id="+r#ATiLoNr$PrKz;*%)S">SRT time</field></block></value><value name="CODE"><shadow type="text_multiline" id="i{3w@Z,N98P%J;]?]MI]"><field name="TEXT">function srtTimeToSeconds(srtTime) {&amp;#10;    // Expected format: "hh:mm:ss,mmm"&amp;#10;    var parts = srtTime.split(":");&amp;#10;    if (parts.length !== 3) {&amp;#10;        throw new Error("Invalid SRT time format: " + srtTime);&amp;#10;    }&amp;#10;&amp;#10;    var hours = parseInt(parts[0], 10);&amp;#10;    var minutes = parseInt(parts[1], 10);&amp;#10;&amp;#10;    // Split seconds and milliseconds&amp;#10;    var secParts = parts[2].split(",");&amp;#10;    if (secParts.length !== 2) {&amp;#10;        throw new Error("Invalid SRT time format (seconds.millis): " + srtTime);&amp;#10;    }&amp;#10;&amp;#10;    var seconds = parseInt(secParts[0], 10);&amp;#10;    var millis  = parseInt(secParts[1], 10);&amp;#10;&amp;#10;    var totalSeconds = (hours * 3600) + (minutes * 60) + seconds + (millis / 1000.0);&amp;#10;    return totalSeconds;&amp;#10;}&amp;#10;srtTimeToSeconds(srtTime)</field></shadow></value></block></value></block><block type="variables_set" id="j0#J,0w7,N,;f(38)a?I" x="0" y="593"><field name="VAR" id="25|K:cvoqZ?p~OIS66vy">srt file in</field><value name="VALUE"><block type="input_arg" id="arc1lqhL#[yd?8-Z5:As" inline="false"><mutation inputType="OPEN_FILE"></mutation><field name="INPUT_TYPE">OPEN_FILE</field><field name="INPUT_LABEL">Input SRT File (*.srt)</field><field name="DEFAULT FIELD"></field><field name="NO_FILE_BEHAVIOR">STOP</field><field name="FILE_DOES_NOT_EXIST_BEHAVIOR">STOP</field></block></value><next><block type="variables_set" id="x*?%LA,Hm@6:x2*!aN`,"><field name="VAR" id="Y-moie2F)u1TBD:LCl{P">srt file out</field><value name="VALUE"><block type="input_arg" id="m:L;Ln4*VsHF+cJuRMRM" inline="false"><mutation inputType="SAVE_FILE"></mutation><field name="INPUT_TYPE">SAVE_FILE</field><field name="INPUT_LABEL">Result SRT File (*.srt)</field><field name="DEFAULT FIELD"></field><field name="NO_FILE_BEHAVIOR">STOP</field><field name="PARENT_FOLDER_NOT_EXISTS_BEHAVIOR">STOP</field><field name="FILE_EXISTS_BEHAVIOR">CONFIRM_DELETE</field></block></value><next><block type="variables_set" id="f3w(44Kq%?uS(:z5Mgzc"><field name="VAR" id="5ClcZ1xAn#q,w2$#?gip">offset seconds</field><value name="VALUE"><block type="text" id="bZsxjeGnG`;e:)x[/5Yt"><field name="TEXT">not set, yet</field></block></value><next><block type="variables_set" id="Z6fo|1tEqcF0G06anXSn"><field name="VAR" id="I%4q+mqh(]jbTd:[Yd^-">counter</field><value name="VALUE"><block type="math_number" id="aRY~c{che7@/?w;9{F2u"><field name="NUM">0</field></block></value><next><block type="string_for_all_regex_matches" id="}AUHpt$1xZ{N0/1i3bOy"><field name="MATCH_VAR" id="qq12*o|_]l-)#)$%JMC4">match</field><field name="REGEX">(\d+:\d\d:\d\d,\d\d\d)\s*--&gt;\s*(\d+:\d\d:\d\d,\d\d\d)\n((?:.+[\n\r])+)</field><field name="REGEX_MODIFIER"></field><value name="MAIN_TEXT"><block type="extendscript_text_file_read" id="yf?BxuQrsor9~GWknhs8"><field name="AMOUNT">ALL</field><value name="FILE"><block type="variables_get" id="wU@z*EEv.?3q;3p,AzCr"><field name="VAR" id="25|K:cvoqZ?p~OIS66vy">srt file in</field></block></value></block></value><statement name="LOOP_STATEMENT"><block type="controls_if" id="-aTQV()}lX1tk4UdX}BO"><value name="IF0"><block type="logic_compare" id="ky@C|I;ye=9`(J:xVGNe"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="dNkNA8U3v?12T(Hi]KLC"><field name="VAR" id="5ClcZ1xAn#q,w2$#?gip">offset seconds</field></block></value><value name="B"><block type="text" id="%#Mx}@S.@{6zJfdmd@d."><field name="TEXT">not set, yet</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="T;_VrE|kt,Mi#.b#RCBn"><field name="VAR" id="5ClcZ1xAn#q,w2$#?gip">offset seconds</field><value name="VALUE"><block type="math_arithmetic" id="z|BT8rc_ktKd=l+O(:jt"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="*lzAtO9~ac!Jq|NOIQ+X"><field name="NUM">1</field></shadow><block type="procedures_callreturn" id="m,8.VHn8Fy-F.(-5(}2P"><mutation name="convert SRT time to seconds"><arg name="SRT time"></arg></mutation><value name="ARG0"><block type="lists_getIndex" id="/O1@4D_#pItzQMqJhpA}"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="eM(bGq`%)9VUM5FIX3-)"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id="~(r_gIk/#;-;h;#j}w`3"><field name="NUM">2</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="-*rTmjA|ec1aGn0B`I~4"><field name="NUM">-1</field></shadow></value></block></value></block></statement><next><block type="block_extendscript_console_log" id="*4zR7^3x-l52W)CVT-b0"><value name="MESSAGE"><shadow type="text" id="Oz7mOrm?#-JQS74tJ3w#"><field name="TEXT">my message</field></shadow><block type="string_pattern" id="3hS_LF{HWxxS-rJQ|6Vl"><mutation items="3"></mutation><value name="VALUE"><shadow type="text" id="H9!M?]%7o^C]o7M{}}R2"><field name="TEXT">Mr. $1 is $2 years old</field></shadow><block type="text" id=":VJB=.wxGI@EEjg^VCeY"><field name="TEXT">create marker at time $1 to $2 with text "$3"</field></block></value><value name="ADD0"><shadow type="text" id="F%thEI;!Cig;2Xo,SlXr"><field name="TEXT">Miller</field></shadow><block type="lists_getIndex" id="Szs)vik3_3OQPzORlSN5"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="Q|bX*]AWFl}Nh`QojsLk"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id=":e@~NaDZB!{f4kZSec[t"><field name="NUM">2</field></block></value></block></value><value name="ADD1"><shadow type="text" id="s;I,CLvbT#i_5!OTej%v"><field name="TEXT">41</field></shadow><block type="lists_getIndex" id="*LsQ6T6U{)P^6[]{s*XN"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="-Pn/de|LSPY,14EgY[{8"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id="2,+e}e`@52VzJP^t)CjH"><field name="NUM">3</field></block></value></block></value><value name="ADD2"><block type="lists_getIndex" id="K!$CU:iqiK2*U3{9buBe"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="H$#|o1OXV{y~RES2KuEZ"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id="Pz_I5tU.}J*-o#QN{nqZ"><field name="NUM">4</field></block></value></block></value></block></value><next><block type="block_extendscript_text_file_write" id=",i/9qO42y;6KerC#P;?R"><field name="LINEBREAK">TRUE</field><field name="CREATEFOLDER">FALSE</field><value name="FILE"><block type="variables_get" id="sj}Sc8^B1Nt$2@2m($EJ"><field name="VAR" id="Y-moie2F)u1TBD:LCl{P">srt file out</field></block></value><value name="TEXT"><block type="string_pattern" id="u/-wFYvY1wwUqZ/XB5w]"><mutation items="4"></mutation><value name="VALUE"><block type="text_multiline" id="6k$ea(dlb|cwq(h/qs9E"><field name="TEXT">$1&amp;#10;$2 --&gt; $3&amp;#10;$4</field></block></value><value name="ADD0"><block type="variables_get" id="?D[%Js@l`s_7sFb!BRKQ"><field name="VAR" id="I%4q+mqh(]jbTd:[Yd^-">counter</field></block></value><value name="ADD1"><block type="procedures_callreturn" id="OBvSQ2VTOBkAKeb]L]dZ"><mutation name="offset timecode"><arg name="SRT time"></arg><arg name="offset seconds"></arg></mutation><value name="ARG0"><block type="lists_getIndex" id="6jGL9cwZzn=)/a)2HGR|"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="}.n[zr~hy4XEluMl}:u3"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id="b76S[Ihu-pyi)p$@:;}s"><field name="NUM">2</field></block></value></block></value><value name="ARG1"><block type="variables_get" id="[ApVh#?aIJzYU-_Jh=n#"><field name="VAR" id="5ClcZ1xAn#q,w2$#?gip">offset seconds</field></block></value></block></value><value name="ADD2"><block type="procedures_callreturn" id="7cEUH{EK|Hw$OQIDBv-y"><mutation name="offset timecode"><arg name="SRT time"></arg><arg name="offset seconds"></arg></mutation><value name="ARG0"><block type="lists_getIndex" id="p|0jO99:}foe7@dyez+3"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="CQT#GM]WhzMs.`OG19C3"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id="}l-4/UgaYm6wU~$jfck}"><field name="NUM">3</field></block></value></block></value><value name="ARG1"><block type="variables_get" id="JL$90-j,})Fi-8R%i[BF"><field name="VAR" id="5ClcZ1xAn#q,w2$#?gip">offset seconds</field></block></value></block></value><value name="ADD3"><block type="lists_getIndex" id="dM6C6DPuhGs=%m?lu09S"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="M_..tQU[Y~j@CwW,Xh)v"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id="75+}j|tOuO7l8X]b#xh%"><field name="NUM">4</field></block></value></block></value></block></value><next><block type="math_change" id="9RAXS:mvFKAVPZtU.}em"><field name="VAR" id="I%4q+mqh(]jbTd:[Yd^-">counter</field><value name="DELTA"><shadow type="math_number" id="4dy-Y+?KQ~(H*(E#ee_e"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></xml>